<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binjas Perkasa - Kalkulator Samapta Final</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        :root {
            --polri-color: #5d4037; --polri-accent: #daa520;
            --tni-color: #166534; --tni-accent: #4ade80;
            --primary-color: var(--polri-color); --accent-color: var(--polri-accent);
            --bg-color: #fdfaf6; --card-bg: #ffffff; --text-dark: #374151;
            --text-light: #6b7280; --border-color: #e5e7eb; --success-color: #15803d; --danger-color: #b91c1c;  
        }

        /* [ ... (CSS yang sudah ada tidak diubah) ... ] */
        
          body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--bg-color); 
            color: var(--text-dark); 
            margin: 0; 
            padding: 0; /* Menghapus padding dan flexbox dari body */
        }
        
        body.tni-mode { --primary-color: var(--tni-color); --accent-color: var(--tni-accent); }
        
        /* Memastikan container berada di tengah */
        .container { 
            max-width: 800px; 
            width: 100%; 
            /* Menambahkan margin auto untuk centering dan padding yang sebelumnya ada di body */
            margin-left: auto;
            margin-right: auto;
            padding: 2rem 1rem;
            box-sizing: border-box;
        }
        .card { background: var(--card-bg); border-radius: 16px; padding: clamp(1.5rem, 4vw, 2rem); box-shadow: 0 10px 15px -3px rgba(0,0,0,0.07), 0 4px 6px -4px rgba(0,0,0,0.07); margin-bottom: 2rem; }
        .card-header { font-size: 1.1rem; font-weight: 700; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; gap: 0.75rem; color: var(--primary-color); transition: color 0.3s; }
        .card-header svg { stroke: var(--primary-color); transition: stroke 0.3s; }
        
        header { text-align: center; padding: 0; margin-bottom: 2rem; }
        header h1 { font-size: 2.5rem; font-weight: 700; margin: 0; color: var(--text-dark); }
        header p { color: var(--text-light); font-size: 1.1rem; margin-top: 0.25rem; }
        .form-grid { display: grid; grid-template-columns: 1fr; gap: 1.25rem; }
        @media (min-width: 640px) { .form-grid { grid-template-columns: 1fr 1fr; } .grid-col-span-2 { grid-column: span 2 / span 2; } }
        
        .form-group label { display: block; font-weight: 500; margin-bottom: 0.5rem; font-size: 0.9rem; }
        .form-group input, .form-group select { width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: 8px; font-family: 'Inter', sans-serif; font-size: 1rem; color: var(--text-dark); transition: all 0.2s ease; }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent-color) 20%, transparent); }

        .toggle-group { display: flex; align-items: center; justify-content: space-between; padding: 0.8rem 0; }
        .switch { position: relative; display: inline-block; width: 50px; height: 28px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 28px; }
        .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--primary-color); }
        input:checked + .slider:before { transform: translateX(22px); }

        .btn { width: 100%; padding: 1rem; background: var(--primary-color); color: white; border: none; border-radius: 8px; font-size: 1.1rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; margin-top: 1.5rem; }
        .btn:hover { background-color: var(--accent-color); color: var(--text-dark); }
        
        #results h2 { font-size: 1.2rem; margin-bottom: 1.5rem; color: var(--text-dark); text-align: left; }
        .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; }
        .result-item { background: var(--card-bg); border: 1px solid var(--border-color); padding: 1rem; border-radius: 8px; text-align: center; }
        .result-item .name { font-weight: 500; color: var(--text-light); font-size: 0.8rem; display: block; margin-bottom: 0.5rem; text-transform: uppercase; }
        .result-item .score { font-weight: 700; font-size: 2rem; display: block; color: var(--primary-color); transition: color 0.3s; }
        
        .summary-grid { margin-top: 2rem; display: grid; grid-template-columns: 1fr; gap: 1.5rem; }
        @media (min-width: 640px) { .summary-grid { grid-template-columns: 1fr 1fr; } }

        .final-score { background: var(--primary-color); color: white; padding: 1.5rem; border-radius: 12px; text-align: center; transition: background-color 0.3s ease; }
        .final-score .name { font-size: 0.9rem; opacity: 0.8; margin-bottom: 0.25rem; text-transform: uppercase; }
        .final-score .score { font-size: 2.5rem; font-weight: 700; }
        #result-gabungan.final-score { background: var(--accent-color); color: var(--text-dark); }

        #status-kelulusan { padding: 1rem; border-radius: 12px; font-size: 1.2rem; font-weight: 700; margin-top: 2rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        #status-kelulusan.ms { background-color: #f0fdf4; color: var(--success-color); }
        #status-kelulusan.tms { background-color: #fef2f2; color: var(--danger-color); }
        .hidden { display: none; }
        /* CSS Untuk Navbar Ditambahkan Di Sini */
        .navbar {
            background-color: #fff;
            padding: 1rem 2rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 50;
            margin-bottom: 2rem;
        }
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        .nav-brand {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.3s;
        }
        .nav-links a {
            font-weight: 500;
            color: #4a5568;
            text-decoration: none;
            margin-left: 1.5rem;
            transition: color 0.3s;
        }
        .nav-links a:hover {
            color: var(--accent-color);
        }
    </style>
</head>
<body>
    
    <!-- Navbar HTML Ditambahkan Di Sini -->
    <div style="width: 100%;"> <!-- Container untuk Navbar -->
        <nav class="navbar">
            <div class="nav-container">
                <a href="index.html" class="nav-brand">Pusat Aplikasi Perkasa</a>
                <div class="nav-links">
                    <a href="Tes Psikologi Kecermatan Perkasa.html">Tes Kecermatan</a>
                    <a href="Quiz SKD Perkasa.html">Simulasi SKD</a>
                </div>
            </div>
        </nav>
        
        <div class="container" style="padding-top: 0;">
            <header><h1>Binjas Perkasa</h1><p id="subtitle">Kalkulator Kesamaptaan Jasmani</p></header>
            <div class="card">
            <form id="samapta-form" onsubmit="return false;">
                <div class="card-header" id="header-peserta"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg><span>Data Peserta</span></div>
                <div class="form-grid" style="margin-top: 1.5rem;">
                    <div class="form-group"><label for="institusi">Institusi</label><select id="institusi" onchange="updateUI()"><option value="polri">Polri</option><option value="tni">TNI</option></select></div>
                    <div class="form-group"><label for="gender">Jenis Kelamin</label><select id="gender" onchange="updateUI()"><option value="pria">Pria</option><option value="wanita">Wanita</option></select></div>
                </div>
                <div class="card-header" style="margin-top:2rem"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4.5 16.5c-2.1 2.1-2.1 5.6 0 7.7 2.1 2.1 5.6 2.1 7.7 0l1.4-1.4c.5-.5.5-1.2 0-1.7l-5.6-5.6c-.5-.5-1.2-.5-1.7 0L4.5 16.5z"></path><path d="m14 8 3-3-3-3"></path><path d="m20 11-3-3 3-3"></path><path d="m17 5 4 4"></path><path d="m21 9-4 4"></path></svg><span>Samapta A & B</span></div>
                <div class="form-grid" style="margin-top: 1.5rem;">
                    <div class="form-group"><label for="lari">Lari 12 Menit (meter)</label><input type="number" id="lari" placeholder="cth: 3000"></div>
                    <div class="form-group"><label id="label-pullup" for="pullup">Pull-up/Chinning (rep)</label><input type="number" id="pullup" placeholder="cth: 12"></div>
                    <div class="form-group"><label for="situp">Sit-up 1 Menit (rep)</label><input type="number" id="situp" placeholder="cth: 40"></div>
                    <div class="form-group"><label for="pushup">Push-up 1 Menit (rep)</label><input type="number" id="pushup" placeholder="cth: 40"></div>
                    <div class="form-group grid-col-span-2"><label id="label-shuttle" for="shuttle">Shuttle Run (detik)</label><input type="number" step="0.1" id="shuttle" placeholder="cth: 17.5"></div>
                </div>
                <div class="card-header" style="margin-top:2rem"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 14v8"></path><path d="M12 2v4"></path><path d="m4.93 4.93 2.83 2.83"></path><path d="m16.24 16.24 2.83 2.83"></path><path d="M2 12h4"></path><path d="M18 12h4"></path><path d="m4.93 19.07 2.83-2.83"></path><path d="m16.24 7.76 2.83-2.83"></path></svg><span>Tes Opsional</span></div>
                <div class="form-grid" style="margin-top: 1.5rem;">
                     <div class="toggle-group"><label for="include-renang" style="margin: 0; cursor: pointer; font-weight:600;">Sertakan Renang</label><label class="switch"><input type="checkbox" id="include-renang" onchange="updateUI()"><span class="slider"></span></label></div>
                     <div class="toggle-group"><label for="include-lunges" style="margin: 0; cursor: pointer; font-weight:600;">Sertakan Lunges</label><label class="switch"><input type="checkbox" id="include-lunges" onchange="updateUI()"><span class="slider"></span></label></div>
                     <div class="grid-col-span-2 hidden" id="renang-container">
                        <div class="form-group hidden" id="renang-gaya-container" style="margin-top: 1rem;">
                            <label for="renang-gaya">Gaya Renang (TNI)</label>
                            <select id="renang-gaya"><option value="dada">Gaya Dada</option><option value="bebas">Gaya Bebas</option></select>
                        </div>
                        <div class="form-group" style="margin-top: 1rem;"><label id="label-renang" for="renang">Waktu Renang (detik)</label><input type="number" step="0.01" id="renang" placeholder="cth: 50.00"></div>
                     </div>
                     <div class="form-group grid-col-span-2 hidden" id="lunges-group"><label for="lunges">Lunges 1 Menit (rep)</label><input type="number" id="lunges" placeholder="cth: 45"></div>
                </div>
                <button class="btn" onclick="calculateScore()">HITUNG NILAI SAYA</button>
            </form>
                <!-- [ ... Konten Kalkulator yang sudah ada tidak diubah ... ] -->
            </div>
            <div id="results" class="card hidden">
            <div class="card-header"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><line x1="10" y1="9" x2="8" y2="9"></line></svg><span>Rincian Hasil Penilaian</span></div>
            <div class="results-grid">
                <div class="result-item"><span class="name">Nilai Lari</span><span class="score" id="rincian-lari">0</span></div>
                <div class="result-item"><span class="name" id="rincian-label-pullup">Nilai Pull-up</span><span class="score" id="rincian-pullup">0</span></div>
                <div class="result-item"><span class="name">Nilai Sit-up</span><span class="score" id="rincian-situp">0</span></div>
                <div class="result-item"><span class="name">Nilai Push-up</span><span class="score" id="rincian-pushup">0</span></div>
                <div class="result-item"><span class="name">Nilai Shuttle Run</span><span class="score" id="rincian-shuttle">0</span></div>
                <div class="result-item hidden" id="result-lunges"><span class="name">Nilai Lunges</span><span class="score" id="rincian-lunges">0</span></div>
                <div class="result-item hidden" id="result-renang"><span class="name" id="name-renang">Nilai Renang</span><span class="score" id="rincian-renang">0</span></div>
            </div>
            <div class="summary-grid">
                <div class="final-score"><div class="name">NILAI AKHIR (A & B)</div><div class="score" id="nilai-akhir">0.00</div></div>
                <div class="final-score hidden" id="result-gabungan"><div class="name">NILAI GABUNGAN</div><div class="score" id="nilai-gabungan">0.00</div></div>
            </div>
            <div id="status-kelulusan"></div>
                 <!-- [ ... Konten Hasil yang sudah ada tidak diubah ... ] -->
            </div>
        </div>
    </div>

    <script>
        const scoreTables = {
            polri: {
                pria: {
                    lari: [[3444,100],[3422,99],[3401,98],[3380,97],[3359,96],[3338,95],[3317,94],[3296,93],[3275,92],[3253,91],[3232,90],[3211,89],[3190,88],[3169,87],[3148,86],[3127,85],[3105,84],[3084,83],[3062,82],[3041,81],[3021,80],[2999,79],[2978,78],[2957,77],[2936,76],[2914,75],[2893,74],[2872,73],[2851,72],[2830,71],[2809,70],[2788,69],[2767,68],[2746,67],[2725,66],[2703,65],[2682,64],[2661,63],[2639,62],[2618,61],[2597,60],[2576,59],[2555,58],[2534,57],[2513,56],[2491,55],[2470,54],[2449,53],[2428,52],[2407,51],[2386,50],[2364,49],[2343,48],[2322,47],[2301,46],[2280,45],[2259,44],[2237,43],[2216,42],[2195,41],[2174,40],[2153,39],[2132,38],[2111,37],[2090,36],[2069,35],[2048,34],[2026,33],[2005,32],[1984,31],[1962,30],[1941,29],[1920,28],[1899,27],[1878,26],[1857,25],[1836,24],[1814,23],[1793,22],[1772,21],[1750,20],[1729,19],[1708,18],[1687,17],[1666,16],[1645,15],[1625,14],[1603,13],[1582,12],[1561,11],[1539,10],[1518,9],[1497,8],[1476,7],[1455,6],[1434,5],[1413,4],[1392,3],[1371,2],[1349,1]],
                    pullup: [[17,100],[16,94],[15,88],[14,82],[13,76],[12,70],[11,64],[10,58],[9,52],[8,46],[7,40],[6,32],[5,26],[4,20],[3,14],[2,8],[1,4]],
                    situp: [[40,100],[39,96],[38,92],[37,88],[36,84],[35,80],[34,76],[33,72],[32,68],[31,64],[30,60],[29,56],[28,52],[27,48],[26,44],[25,41],[24,38],[23,35],[22,32],[21,30],[20,28],[19,26],[18,24],[17,22],[16,20],[15,18],[14,16],[13,14],[12,12],[11,10],[10,8],[9,6],[8,4],[7,2],[6,1]],
                    pushup: [[42,100],[41,97],[40,94],[39,91],[38,88],[37,85],[36,82],[35,79],[34,76],[33,73],[32,70],[31,67],[30,64],[29,61],[28,58],[27,55],[26,52],[25,50],[24,48],[23,46],[22,44],[21,42],[20,40],[19,38],[18,36],[17,34],[16,32],[15,29],[14,26],[13,23],[12,21],[11,19],[10,17],[9,15],[8,13],[7,11],[6,9],[5,7],[4,5],[3,3],[2,2],[1,1]],
                    shuttle: [[16.2,100],[16.3,99],[16.4,98],[16.5,97],[16.6,96],[16.7,95],[16.8,94],[16.9,92],[17.0,90],[17.1,88],[17.2,86],[17.3,84],[17.4,82],[17.5,80],[17.6,78],[17.7,76],[17.8,74],[17.9,72],[18.0,70],[18.1,68],[18.2,66],[18.3,64],[18.4,62],[18.5,60],[18.6,58],[18.7,56],[18.8,54],[18.9,52],[19.0,51],[19.1,49],[19.2,47],[19.3,45],[19.4,43],[19.5,41], true],
                    lunges: [[54,100],[53,95],[52,90],[51,85],[50,80],[49,75],[48,70],[47,65],[46,60],[45,55],[44,50],[43,45],[42,41],[41,37],[40,33],[39,29],[38,25],[37,21],[36,17],[35,13],[34,9],[33,5],[32,1]],
                    renang: [[14.0,100],[14.7,99],[15.4,98],[16.1,97],[16.8,96],[17.5,95],[18.2,94],[18.9,93],[19.6,92],[20.3,91],[21.0,90],[21.7,89],[22.4,88],[23.1,87],[23.8,86],[24.5,85],[25.2,84],[25.9,83],[26.6,82],[27.3,81],[28.0,80],[28.7,79],[29.4,78],[30.1,77],[30.8,76],[31.5,75],[32.2,74],[32.9,73],[33.6,72],[34.3,71],[35.0,70],[35.7,69],[36.4,68],[37.1,67],[37.8,66],[38.5,65],[39.2,64],[39.9,63],[40.6,62],[41.3,61],[42.0,60],[42.7,59],[43.4,58],[44.1,57],[44.8,56],[45.5,55],[46.2,54],[46.9,53],[47.6,52],[48.3,51],[49.0,50],[49.7,49],[50.4,48],[51.1,47],[51.8,46],[52.5,45],[53.2,44],[53.9,43],[54.6,42],[55.0,41], true]
                },
                wanita: {
                    chinning: [[72,100],[71,97],[70,95],[69,92],[68,90],[67,87],[66,85],[65,82],[64,80],[63,77],[62,75],[61,72],[60,70],[59,67],[58,65],[57,62],[56,60],[55,57],[54,55],[53,52],[52,50],[51,47],[50,45],[49,42],[48,40],[47,37],[46,35],[45,32],[44,30],[43,27],[42,25],[41,22],[40,20],[39,17],[38,15],[37,12],[36,10],[35,7],[34,5],[33,2],[32,1]],
                    situp: [[50,100],[49,96],[48,93],[47,91],[46,87],[45,84],[44,82],[43,78],[42,75],[41,73],[40,69],[39,66],[38,64],[37,60],[36,57],[35,55],[34,51],[33,48],[32,46],[31,42],[30,39],[29,37],[28,33],[27,29],[26,26],[25,24],[24,21],[23,19],[22,15],[21,12],[20,10],[19,6],[18,3],[17,1]],
                    pushup: [[37,100],[36,97],[35,93],[34,90],[33,86],[32,83],[31,79],[30,76],[29,72],[28,69],[27,65],[26,62],[25,58],[24,55],[23,51],[22,48],[21,44],[20,41],[19,37],[18,34],[17,30],[16,27],[15,23],[14,20],[13,16],[12,13],[11,9],[10,6],[9,2],[8,1]],
                    lari: [[3095,100],[3084,99],[3062,98],[3041,97],[3020,96],[2999,95],[2978,94],[2957,93],[2936,92],[2914,91],[2893,90],[2872,89],[2851,88],[2830,87],[2809,86],[2788,85],[2767,84],[2746,83],[2725,82],[2703,81],[2682,80],[2661,79],[2639,78],[2618,77],[2597,76],[2576,75],[2555,74],[2534,73],[2513,72],[2491,71],[2470,70],[2449,69],[2428,68],[2407,67],[2385,66],[2364,65],[2343,64],[2322,63],[2301,62],[2280,61],[2259,60],[2237,59],[2216,58],[2195,57],[2174,56],[2153,55],[2132,54],[2111,53],[2090,52],[2069,51],[2048,50],[2026,49],[2005,48],[1984,47],[1962,46],[1941,45],[1920,44],[1899,43],[1878,42],[1857,41]],
                    shuttle: [[17.6,100],[17.7,99],[17.8,98],[17.9,97],[18.0,96],[18.1,95],[18.2,94],[18.3,93],[18.4,92],[18.5,91],[18.6,90],[18.7,89],[18.8,88],[18.9,87],[19.0,86],[19.1,85],[19.2,84],[19.3,83],[19.4,82],[19.5,81],[19.6,80],[19.7,79],[19.8,78],[19.9,77],[20.0,76],[20.1,75],[20.2,74],[20.3,73],[20.4,72],[20.5,71],[20.6,70],[20.7,69],[20.8,68],[20.9,67],[21.0,66],[21.1,65],[21.2,64],[21.3,63],[21.4,62],[21.5,61],[21.6,60],[21.7,59],[21.8,58],[21.9,57],[22.0,56],[22.1,55],[22.2,54],[22.3,53],[22.4,52],[22.5,51],[22.6,50],[22.7,49],[22.8,48],[22.9,47],[23.0,46],[23.1,45],[23.2,44],[23.3,43],[23.4,42],[23.5,41], true],
                    lunges: [[45,100],[44,95],[43,90],[42,85],[41,80],[40,75],[39,70],[38,65],[37,60],[36,55],[35,50],[34,45],[33,41],[32,37],[31,33],[30,29],[29,25],[28,21],[27,17],[26,13],[25,9],[24,5],[23,1]],
                    renang: [[20.0,100],[20.7,99],[21.3,98],[22.0,97],[22.7,96],[23.4,95],[24.0,94],[24.7,93],[25.4,92],[26.0,91],[26.7,90],[27.4,89],[28.0,88],[28.7,87],[29.4,86],[30.1,85],[30.7,84],[31.4,83],[32.1,82],[32.7,81],[33.4,80],[34.1,79],[34.7,78],[35.4,77],[36.1,76],[36.8,75],[37.4,74],[38.1,73],[38.8,72],[39.4,71],[40.1,70],[40.8,69],[41.4,68],[42.1,67],[42.8,66],[43.5,65],[44.1,64],[44.8,63],[45.5,62],[46.1,61],[46.8,60],[47.5,59],[48.1,58],[48.8,57],[49.5,56],[50.2,55],[50.8,54],[51.5,53],[52.2,52],[52.8,51],[53.5,50],[54.2,49],[54.8,48],[55.5,47],[56.2,46],[56.9,45],[57.5,44],[58.2,43],[58.9,42],[60.0,41], true]
                }
            },
            tni: {
                 pria: {
                    lari: [[3507,100],[3488,99],[3469,98],[3450,97],[3431,96],[3412,95],[3393,94],[3374,93],[3355,92],[3336,91],[3317,90],[3298,89],[3279,88],[3260,87],[3241,86],[3222,85],[3203,84],[3184,83],[3165,82],[3146,81],[3127,80],[3108,79],[3089,78],[3070,77],[3051,76],[3032,75],[3013,74],[2994,73],[2975,72],[2956,71],[2937,70],[2918,69],[2899,68],[2880,67],[2861,66],[2842,65],[2823,64],[2804,63],[2785,62],[2766,61],[2747,60],[2728,59],[2709,58],[2690,57],[2671,56],[2652,55],[2633,54],[2614,53],[2595,52],[2576,51],[2557,50],[2538,49],[2519,48],[2500,47],[2481,46],[2462,45],[2443,44],[2424,43],[2405,42],[2386,41],[2367,40],[2348,39],[2329,38],[2310,37],[2291,36],[2272,35],[2253,34],[2234,33],[2215,32],[2196,31],[2177,30],[2158,29],[2139,28],[2120,27],[2101,26],[2082,25],[2063,24],[2044,23],[2025,22],[2006,21],[1987,20],[1968,19],[1949,18],[1930,17],[1911,16],[1892,15],[1873,14],[1854,13],[1835,12],[1816,11],[1797,10],[1778,9],[1759,8],[1740,7],[1721,6],[1702,5],[1683,4],[1664,3],[1645,2],[1626,1]],
                    pullup: [[18,100],[17,95],[16,90],[15,85],[14,80],[13,75],[12,70],[11,65],[10,60],[9,55],[8,50],[7,45],[6,40],[5,35],[4,30],[3,25],[2,20],[1,15]],
                    situp: [[41,100],[40,96],[39,92],[38,88],[37,83],[36,79],[35,75],[34,71],[33,67],[32,63],[31,58],[30,54],[29,50],[28,46],[27,42],[26,38],[25,33],[24,29],[23,25],[22,21],[21,17],[20,13],[19,9],[18,5],[17,1]],
                    pushup: [[43,100],[42,97],[41,94],[40,91],[39,88],[38,85],[37,82],[36,78],[35,75],[34,72],[33,69],[32,66],[31,63],[30,60],[29,56],[28,53],[27,50],[26,47],[25,44],[24,41],[23,38],[22,34],[21,31],[20,28],[19,25],[18,22],[17,19],[16,15]],
                    shuttle: [[15.90,100],[16.00,99],[16.10,98],[16.20,97],[16.30,96],[16.40,95],[16.50,94],[16.60,93],[16.70,92],[16.80,91],[16.90,90],[17.00,89],[17.10,88],[17.20,87],[17.30,86],[17.40,85],[17.50,84],[17.60,83],[17.70,82],[17.80,81],[17.90,80],[18.00,79],[18.10,78],[18.20,77],[18.30,76],[18.40,75],[18.50,74],[18.60,73],[18.70,72],[18.80,71],[18.90,70],[19.00,69],[19.10,68],[19.20,67],[19.30,66],[19.40,65],[19.50,64],[19.60,63],[19.70,62],[19.80,61],[19.90,60],[20.00,59],[20.10,58],[20.20,57],[20.30,56],[20.40,55],[20.50,54],[20.60,53],[20.70,52],[20.80,51],[20.90,50],[21.00,49],[21.10,48],[21.20,47],[21.30,46],[21.40,45],[21.50,44],[21.60,43],[21.70,42],[21.80,41],[21.90,40],[22.00,39],[22.10,38],[22.20,37],[22.30,36],[22.40,35],[22.50,34],[22.60,33],[22.70,32],[22.80,31],[22.90,30],[23.00,29],[23.10,28],[23.20,27],[23.30,26],[23.40,25],[23.50,24],[23.60,23],[23.70,22],[23.80,21],[23.90,20],[24.00,19],[24.10,18],[24.20,17],[24.30,16],[24.40,15],[24.50,14],[24.60,13],[24.70,12],[24.80,11],[24.90,10],[25.00,9],[25.10,8],[25.20,7],[25.30,6],[25.40,5],[25.50,4],[25.60,3],[25.70,2],[25.80,1], true],
                    lunges: [[54,100],[53,95],[52,90],[51,85],[50,80],[49,75],[48,70],[47,65],[46,60],[45,55],[44,50],[43,45],[42,41],[41,37],[40,33],[39,29],[38,25],[37,21],[36,17],[35,13],[34,9],[33,5],[32,1]],
                    renang: {
                        dada: [[40,100],[41,99],[42,98],[43,97],[44,96],[45,95],[46,94],[47,93],[48,92],[49,91],[50,90],[51,89],[52,88],[53,87],[54,86],[55,85],[56,84],[57,83],[58,82],[59,81],[60,80],[61,79],[62,78],[63,77],[64,76],[65,75],[66,74],[67,73],[68,72],[69,71],[70,70],[71,69],[72,68],[73,67],[74,66],[75,65],[76,64],[77,63],[78,62],[79,61],[80,60],[81,59],[82,58],[83,57],[84,56],[85,55],[86,54],[87,53],[88,52],[89,51],[90,50],[91,49],[92,48],[93,47],[94,46],[95,45],[96,44],[97,43],[98,42],[99,41],[100,40],[101,39],[102,38],[103,37],[104,36],[105,35],[106,34],[107,33],[108,32],[109,31],[110,30],[111,29],[112,28],[113,27],[114,26],[115,25],[116,24],[117,23],[118,22],[119,21],[120,20],[121,19],[122,18],[123,17],[124,16],[125,15],[126,14],[127,13],[128,12],[129,11],[130,10],[131,9],[132,8],[133,7],[134,6],[135,5],[136,4],[137,3],[138,2],[139,1], true],
                        bebas: [[25,100],[26,99],[27,98],[28,97],[29,96],[30,95],[31,94],[32,93],[33,92],[34,91],[35,90],[36,89],[37,88],[38,87],[39,86],[40,85],[41,84],[42,83],[43,82],[44,81],[45,80],[46,79],[47,78],[48,77],[49,76],[50,75],[51,74],[52,73],[53,72],[54,71],[55,70],[56,69],[57,68],[58,67],[59,66],[60,65],[61,64],[62,63],[63,62],[64,61],[65,60],[66,59],[67,58],[68,57],[69,56],[70,55],[71,54],[72,53],[73,52],[74,51],[75,50],[76,49],[77,48],[78,47],[79,46],[80,45],[81,44],[82,43],[83,42],[84,41],[85,40],[86,39],[87,38],[88,37],[89,36],[90,35],[91,34],[92,33],[93,32],[94,31],[95,30],[96,29],[97,28],[98,27],[99,26],[100,25],[101,24],[102,23],[103,22],[104,21],[105,20],[106,19],[107,18],[108,17],[109,16],[110,15],[111,14],[112,13],[113,12],[114,11],[115,10],[116,9],[117,8],[118,7],[119,6],[120,5],[121,4],[122,3],[123,2],[124,1], true]
                    }
                },
                wanita: {
                    chinning: [[63,100],[62,98],[61,97],[60,95],[59,93],[58,92],[57,90],[56,89],[55,87],[54,86],[53,84],[52,83],[51,81],[50,80],[49,79],[48,77],[47,76],[46,74],[45,72],[44,71],[43,69],[42,68],[41,67],[40,65],[39,63],[38,62],[36,60],[35,59],[34,57],[33,56],[32,54],[31,53],[30,51],[29,50],[28,48],[27,47],[26,45],[25,44],[24,42],[23,41]],
                    situp: [[36,100],[35,95],[34,90],[33,85],[32,80],[31,75],[30,70],[29,65],[28,60],[27,55],[26,50],[25,45],[24,40],[23,35],[22,30],[21,25],[20,20],[19,15],[18,10],[17,5],[16,1]],
                    pushup: [[28,100],[27,96],[26,93],[25,89],[24,86],[23,82],[22,79],[21,75],[20,71],[19,68],[18,64],[17,61],[16,57],[15,54],[14,50],[13,46],[12,43],[11,39],[10,36],[9,32],[8,29],[7,25],[6,21],[5,18],[4,14],[3,11],[2,7],[1,4]],
                    lari: [[2630,100],[2619,99],[2608,98],[2597,97],[2586,96],[2575,95],[2564,94],[2553,93],[2542,92],[2531,91],[2520,90],[2509,89],[2498,88],[2487,87],[2476,86],[2465,85],[2454,84],[2443,83],[2432,82],[2421,81],[2410,80],[2399,79],[2388,78],[2377,77],[2366,76],[2355,75],[2344,74],[2333,73],[2322,72],[2311,71],[2300,70],[2289,69],[2278,68],[2267,67],[2256,66],[2245,65],[2234,64],[2223,63],[2212,62],[2201,61],[2190,60],[2179,59],[2168,58],[2157,57],[2146,56],[2135,55],[2124,54],[2113,53],[2102,52],[2088,51],[2074,50],[2060,49],[2046,48],[2033,47],[2019,46],[2005,45],[1992,44],[1979,43],[1966,42],[1953,41]],
                    shuttle: [[17.20,100],[17.30,99],[17.40,98],[17.50,97],[17.60,96],[17.70,95],[17.80,94],[17.90,93],[18.00,92],[18.10,91],[18.20,90],[18.30,89],[18.40,88],[18.50,87],[18.60,86],[18.70,85],[18.80,84],[18.90,83],[19.00,82],[19.10,81],[19.20,80],[19.30,79],[19.40,78],[19.50,77],[19.60,76],[19.70,75],[19.80,74],[19.90,73],[20.00,72],[20.10,71],[20.20,70],[20.30,69],[20.40,68],[20.50,67],[20.60,66],[20.70,65],[20.80,64],[20.90,63],[21.00,62],[21.10,61],[21.20,60],[21.30,59],[21.40,58],[21.50,57],[21.60,56],[21.70,55],[21.80,54],[21.90,53],[22.00,52],[22.10,51],[22.20,50],[22.30,49],[22.40,48],[22.50,47],[22.60,46],[22.70,45],[22.80,44],[22.90,43],[23.00,42],[23.10,41],[23.20,40],[23.30,39],[23.40,38],[23.50,37],[23.60,36],[23.70,35],[23.80,34],[23.90,33],[24.00,32],[24.10,31],[24.20,30],[24.30,29],[24.40,28],[24.50,27],[24.60,26],[24.70,25],[24.80,24],[24.90,23],[25.00,22],[25.10,21],[25.20,20],[25.30,19],[25.40,18],[25.50,17],[25.60,16],[25.70,15],[25.80,14],[25.90,13],[26.00,12],[26.10,11],[26.20,10],[26.30,9],[26.40,8],[26.50,7],[26.60,6],[26.70,5],[26.80,4],[26.90,3],[27.00,2],[27.10,1], true],
                    lunges: [[45,100],[44,95],[43,90],[42,85],[41,80],[40,75],[39,70],[38,65],[37,60],[36,55],[35,50],[34,45],[33,41],[32,37],[31,33],[30,29],[29,25],[28,21],[27,17],[26,13],[25,9],[24,5],[23,1]],
                    renang: {
                        dada: [[49,100],[50,99],[51,98],[52,97],[53,96],[54,95],[55,94],[56,93],[57,92],[58,91],[59,90],[60,89],[61,88],[62,87],[63,86],[64,85],[65,84],[66,83],[67,82],[68,81],[69,80],[70,79],[71,78],[72,77],[73,76],[74,75],[75,74],[76,73],[77,72],[78,71],[79,70],[80,69],[81,68],[82,67],[83,66],[84,65],[85,64],[86,63],[87,62],[88,61],[89,60],[90,59],[91,58],[92,57],[93,56],[94,55],[95,54],[96,53],[97,52],[98,51],[99,50],[100,49],[101,48],[102,47],[103,46],[104,45],[105,44],[106,43],[107,42],[108,41], true],
                        bebas: [[30,100],[31,99],[32,98],[33,97],[34,96],[35,95],[36,94],[37,93],[38,92],[39,91],[40,90],[41,89],[42,88],[43,87],[44,86],[45,85],[46,84],[47,83],[48,82],[49,81],[50,80],[51,79],[52,78],[53,77],[54,76],[55,75],[56,74],[57,73],[58,72],[59,71],[60,70],[61,69],[62,68],[63,67],[64,66],[65,65],[66,64],[67,63],[68,62],[69,61],[70,60],[71,59],[72,58],[73,57],[74,56],[75,55],[76,54],[77,53],[78,52],[79,51],[80,50],[81,49],[82,48],[83,47],[84,46],[85,45],[86,44],[87,43],[88,42],[89,41], true]
                    }
                }
            }
        };

        function updateUI() {
            const institusi = document.getElementById('institusi').value;
            const gender = document.getElementById('gender').value;
            const isTni = institusi === 'tni';

            document.body.classList.toggle('tni-mode', isTni);
            
            document.getElementById('label-pullup').textContent = (gender === 'wanita') ? 'Chinning (rep)' : 'Pull-up (rep)';
            document.getElementById('rincian-label-pullup').textContent = (gender === 'wanita') ? 'Nilai Chinning' : 'Nilai Pull-up';
            document.getElementById('label-renang').textContent = (isTni) ? 'Waktu Renang 50m (detik)' : 'Waktu Renang 25m (detik)';
            document.getElementById('name-renang').textContent = (isTni) ? 'Nilai Renang 50m' : 'Nilai Renang 25m';
            document.getElementById('label-shuttle').textContent = 'Shuttle Run (detik)';

            document.getElementById('renang-container').classList.toggle('hidden', !document.getElementById('include-renang').checked);
            document.getElementById('lunges-group').classList.toggle('hidden', !document.getElementById('include-lunges').checked);
            
            const renangGayaSelect = document.getElementById('renang-gaya-container');
            renangGayaSelect.classList.toggle('hidden', !isTni || !document.getElementById('include-renang').checked);
        }
        
        function getScoreFromTable(value, table) {
            if (!table || value <= 0) return 0;
            const isTimeBased = table[table.length - 1] === true;
            for (const entry of table) {
                if (typeof entry === 'boolean') continue;
                const [threshold, score] = entry;
                if (isTimeBased) {
                    if (value <= threshold) return score;
                } else {
                    if (value >= threshold) return score;
                }
            }
            return 0;
        }

        function calculateScore() {
            try {
                const institusi = document.getElementById('institusi').value;
                const gender = document.getElementById('gender').value;
                const tables = scoreTables[institusi][gender];
                const pullupKey = gender === 'wanita' ? 'chinning' : 'pullup';
                
                const lari = parseFloat(document.getElementById('lari').value) || 0;
                const pullup = parseFloat(document.getElementById('pullup').value) || 0;
                const situp = parseFloat(document.getElementById('situp').value) || 0;
                const pushup = parseFloat(document.getElementById('pushup').value) || 0;
                const shuttle = parseFloat(document.getElementById('shuttle').value) || 0;

                const nLari = getScoreFromTable(lari, tables.lari);
                const nPullup = getScoreFromTable(pullup, tables[pullupKey]);
                const nSitup = getScoreFromTable(situp, tables.situp);
                const nPushup = getScoreFromTable(pushup, tables.pushup);
                const nShuttle = getScoreFromTable(shuttle, tables.shuttle);

                let samaptaBItems = [nPullup, nSitup, nPushup, nShuttle];
                
                if (document.getElementById('include-lunges').checked) {
                    const lungesValue = parseFloat(document.getElementById('lunges').value) || 0;
                    const nLunges = getScoreFromTable(lungesValue, tables.lunges);
                    document.getElementById('rincian-lunges').textContent = nLunges;
                    document.getElementById('result-lunges').classList.remove('hidden');
                    samaptaBItems.push(nLunges);
                } else {
                    document.getElementById('result-lunges').classList.add('hidden');
                }
                let hasZeroValueSamapta = nLari === 0 || samaptaBItems.some(s => s === 0);

                const avgB = samaptaBItems.reduce((a, b) => a + b, 0) / samaptaBItems.length;
                const nilaiAkhirAB = (nLari + avgB) / 2;

                document.getElementById('rincian-lari').textContent = nLari;
                document.getElementById('rincian-pullup').textContent = nPullup;
                document.getElementById('rincian-situp').textContent = nSitup;
                document.getElementById('rincian-pushup').textContent = nPushup;
                document.getElementById('rincian-shuttle').textContent = nShuttle;
                document.getElementById('nilai-akhir').textContent = nilaiAkhirAB.toFixed(2);

                const statusEl = document.getElementById('status-kelulusan');
                let isRenangTMS = false;
                
                if (document.getElementById('include-renang').checked) {
                    const renangValue = parseFloat(document.getElementById('renang').value) || 0;
                    let renangTable;
                    if(institusi === 'tni'){
                        const gaya = document.getElementById('renang-gaya').value;
                        renangTable = tables.renang[gaya];
                    } else {
                        renangTable = tables.renang;
                    }

                    let nRenang = getScoreFromTable(renangValue, renangTable);
                    if (nRenang === 0 && renangValue > 0) { 
                        nRenang = (institusi === 'polri') ? 41 : 1;
                    }
                    document.getElementById('rincian-renang').textContent = nRenang;
                    document.getElementById('result-renang').classList.remove('hidden');
                    if (nRenang === 0) { isRenangTMS = true; }

                    const nilaiGabungan = (nilaiAkhirAB + nRenang) / 2;
                    document.getElementById('nilai-gabungan').textContent = nilaiGabungan.toFixed(2);
                    document.getElementById('result-gabungan').classList.remove('hidden');
                } else {
                     document.getElementById('result-renang').classList.add('hidden');
                     document.getElementById('result-gabungan').classList.add('hidden');
                }
                
                const passingGrade = institusi === 'polri' ? 61 : 41;
                const isMS = nilaiAkhirAB >= passingGrade && !hasZeroValueSamapta && !isRenangTMS;

                if (isMS) {
                    statusEl.className = 'ms';
                    statusEl.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> Memenuhi Syarat`;
                } else {
                    statusEl.className = 'tms';
                    let reason = "";
                    if (nilaiAkhirAB < passingGrade) { reason = `Nilai Akhir (A&B) di bawah ${passingGrade}`; } 
                    else if (hasZeroValueSamapta) { reason = "Item Samapta A/B bernilai 0"; } 
                    else if (isRenangTMS) { reason = "Item Renang Tidak Memenuhi Syarat"; }
                    else { reason = "Periksa kembali nilai input."; }
                    statusEl.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg> Tidak Memenuhi Syarat (${reason})`;
                }
                document.getElementById('results').classList.remove('hidden');
            } catch (error) {
                console.error("Calculation Error:", error);
                alert("Terjadi kesalahan dalam perhitungan. Silakan periksa kembali input Anda.");
            }
        }

        document.addEventListener('DOMContentLoaded', updateUI);
        // [ ... (JavaScript yang sudah ada tidak diubah) ... ]
    </script>
</body>
</html>